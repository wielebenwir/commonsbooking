!function(l){"use strict";l(function(){let e=l("#full-day"),n=l("#repetition-start_time"),o=l("#repetition-end_time"),i=!1,c=(e.on("change",function(t){e.is(":checked")?(n.val("00:00"),o.val("23:59"),n.hide(),o.hide()):(n.show(),o.show())}),e.trigger("change"),l("#item-id")),a=l("#location-id"),r=l("#repetition-start_date"),s=l("#_cb_bookingcode");c.on("change",function(t){var n={itemID:c.val()};l.post(cb_ajax_get_bookable_location.ajax_url,{_ajax_nonce:cb_ajax_get_bookable_location.nonce,action:"cb_get_bookable_location",data:n},function(t){t.success&&(a.val(t.locationID),e.prop("checked",t.fullDay),e.trigger("change"))}).then(()=>{u()})}),c.trigger("change");const u=()=>{var t;e.is(":checked")&&(t={itemID:c.val(),locationID:a.val(),startDate:r.val()},l.post(cb_ajax_get_booking_code.ajax_url,{_ajax_nonce:cb_ajax_get_booking_code.nonce,action:"cb_get_booking_code",data:t},function(t){t.success?(s.val(t.bookingCode),i=!1):i||s.val("")}))};s.on("keyup",function(t){i=!0}),r.on("change",function(t){u()}),e.on("change",function(t){u()})})}(jQuery),function(a){"use strict";a(function(){const c=a("#timeframe_manual_date");var t=a("#cmb2_multiselect_datepicker");t.length&&t.datepicker({onSelect:function(t,n){var e,o,i=a(this).datepicker("getDate");e=(i=i).getDate(),o=i.getMonth()+1,e=e<=9?"0"+e:e,o=o<=9?"0"+o:o,i=i.getFullYear()+"-"+o+"-"+e,0<c.val().length?","!==c.val().slice(-1)?c.val(c.val()+","+i):c.val(c.val()+i):c.val(i+",")}})})}(jQuery),function(u){"use strict";u(function(){function t(t){u.each(t,function(){u(this).parents(".cmb-row").hide()})}function n(t){u.each(t,function(){u(this).parents(".cmb-row").show()})}function e(){(r.prop("checked")?n:t)(s)}function o(){a.prop("checked")?(n(r),e()):(t(r),t(s))}function i(){c.prop("checked")?(t(a),t(r),t(s)):(n(a),n(r),e())}const c=u("#_cb_use_global_settings"),a=u("#_cb_allow_lockdays_in_range"),r=u("#_cb_count_lockdays_in_range"),s=u("#_cb_count_lockdays_maximum");e(),r.change(function(){e()}),o(),a.change(function(){o()});i(),c.change(function(){i()})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(t){t.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const n=t=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:t,geodata:o("#get-geo-locations").is(":checked")},function(t){let e=!0;o.each(t,function(t,n){o("#"+t+"-index").text(n.index),o("#"+t+"-count").text(n.count),"0"==n.complete&&(e=!1)}),e?(o("#migration-in-progress").hide(),o("#migration-done").show()):n(t)})};n(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(t){t.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(n){"use strict";n(function(){const t=n("input[name=post_type][value=cb_restriction]").parent("form");t.find("input, select, textarea").on("keyup change paste",function(){t.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const n=o("#emailtemplates_mail-booking_ics_attach");const e=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],t=function(){var t;t=e,o.each(t,function(){o(this).parents(".cmb-row").show()}),n.prop("checked")||(t=e,o.each(t,function(){o(this).parents(".cmb-row").hide()}),n.prop("checked",!1))};t(),n.click(function(){t()})}})}(jQuery),function(q){"use strict";q(function(){const n=function(n,t){var e=[];return jQuery.grep(t,function(t){-1==jQuery.inArray(t,n)&&e.push(t)}),e},o=function(t){q.each(t,function(){q(this).parents(".cmb-row").hide()})},i=function(t){q.each(t,function(){q(this).parents(".cmb-row").show()})};var t=q("#cmb2-metabox-cb_timeframe-custom-fields");if(t.length){const d=q("#timeframe-repetition"),f=q("#type"),m=q("#grid"),p=q("#weekdays1");var t=q("#start-time"),e=q("#end-time"),c=q("#title-timeframe-rep-config");const h=q("#repetition-start"),b=q("#repetition-end"),k=q("#full-day"),v=q("#title-timeframe-booking-codes"),w=q("#show-booking-codes"),j=q("#create-booking-codes");var a=q("#booking-codes-download"),r=q("#booking-codes-list");q("#timeframe_manual_date");const x=q("#cmb2_multiselect_datepicker"),y=q(".cmb2-id-timeframe-manual-date");var s=q("#timeframe-max-days"),u=q("#timeframe-advance-booking-days"),l=q("#booking-startday-offset"),_=q("#title-bookings-config"),g=q("#allowed_user_roles");const D=[c,k,t,e,p,h,b,m],Q=[k,t,e,m,h,b],I=[m,t,e],A=[j,r,a,w],C=[s,u,l,g,_],F=function(){var t=q("option:selected",f).val();q("option:selected",d).val();("2"===t?(i(C),i):(o(C),o))(v)},M=(F(),f.change(function(){F()}),function(){q("option:selected",d).val();(k.prop("checked")?(m.prop("selected",!1),o):i)(I)}),S=(M(),k.change(function(){M()}),function(){var t=q("option:selected",d).val();q("option:selected",f).val();t?("norep"==t?(i(Q),o(n(Q,D))):(i(D),o(n(D,Q))),("manual"===t?(y.show(),x.show(),o(h),o):(y.hide(),x.hide(),i(h),i))(b),"w"===t?p.parents(".cmb-row").show():(p.parents(".cmb-row").hide(),t=q("input[name*=weekdays]"),q.each(t,function(){q(this).prop("checked",!1)})),M()):(o(Q),o(D))}),Y=(S(),d.change(function(){S()}),function(){var t=k.prop("checked"),n=f.val(),e=h.val();o(A),e&&t&&"2"===n&&(i(A),j.prop("checked")||(o([w]),w.prop("checked",!1)))});Y();c=[h,b,k,f,j];q.each(c,function(t,n){n.change(function(){Y()})})}})}(jQuery),function(t){"use strict";t(function(){t(document).tooltip()})}(jQuery);